<!DOCTYPE html>
<html>
<head>
    <title>
        <%= title %>
    </title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS"
     crossorigin="anonymous">
    <link rel='stylesheet' href='/stylesheets/login.css' />
    <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
	<script src="sweetalert2/dist/sweetalert2.all.min.js"></script>

	<!-- Include a polyfill for ES6 Promises (optional) for IE11 and UC Browser support -->
	<script src="https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.js"></script>

</head>
<body style="background-image: url('../img/background2.jpg'); background-size: cover;">
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault"
         aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/buy">Buy <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/sell">Sell</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/withdraw">Withdraw</a>
                </li>
            </ul>
        </div>
    </nav>
<form  class="form-signin text-center" method="POST" action="/buy">
    <div class="card p-4" id="buy_form">
            <div class="card-title p-4">
        <h1 class="h3 mb-3 font-weight-normal">How much Bitcoin do you want to buy?</h1>
    </div>
        <!-- Amount Field -->
        <label for="purchaseAmount" class="sr-only">Amount</label>
        <input name="purchaseAmount" id="purchaseAmount" class="form-control" placeholder="Amount" required autofocus>
        <!-- Recipient Address Field -->
        <!-- <label for="recipientAddress" class="sr-only">Address</label> -->
        <div class="btn-group-vertical ml-1 mr-1 mt-4" style="font-family:monospace;" role="group" aria-label="Basic example">
        
                <div class="btn-group">
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '1'; updateAmount();">1</button>
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '2'; updateAmount();">2</button>
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '3'; updateAmount();">3</button>
                </div>
                <div class="btn-group">
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '4'; updateAmount();">4</button>
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '5'; updateAmount();">5</button>
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '6'; updateAmount();">6</button>
                </div>
                <div class="btn-group">
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '7'; updateAmount();">7</button>
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '8'; updateAmount();">8</button>
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '9'; updateAmount();">9</button>
                </div>
                <div class="btn-group">
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value.slice(0, -1); updateAmount();">&lt;</button>
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '0'; updateAmount();">0</button>
                        <button type="button" class="btn btn-outline-secondary py-3" onclick="document.getElementById('purchaseAmount').value=document.getElementById('purchaseAmount').value + '.'; updateAmount();">.</button>
                </div>
        </div>
        <div class="d-flex justify-content-between mt-2">
            <div>
                <p>USD:</p>
            </div>
            <div>
                <p id="usd_amount">0.00</p>
            </div>
        </div>
        <button class="btn btn-lg btn-primary btn-block" id="btn_choose_amount" type="submit">Next</button>
    </div>
    <div  class="card p-4"  style="display:none" id="prodive_btc_address">
            <div class="card-title p-4">
        <h1 class="h3 mb-4 font-weight-normal">Please provide a bitcoin address:</h1>
        <i class="fa fa-qrcode fa-2x" aria-hidden="true" style="font-size: 6em"></i>
    </div>
        <input name="user_btc_address" id="user_btc_address" class="form-control" placeholder="Bitcoin address" required
         autofocus> 
        <!-- Amount Field -->
        <button class="mt-4 btn btn-lg btn-primary btn-block" id="btn_btc_address" type="submit">Next</button>
    </div>
    <div  class="card p-4"  style="display:none" id="insert_cash">
            <div class="card-title p-4">
        <h1 class="h3 mb-3 font-weight-normal">Please insert CASH:</h1>
    </div>
        <!-- Amount Field -->
        <img src="../img/atm.png" class="img-fluid" alt="Responsive image">
        <button class="mt-4 btn btn-lg btn-primary btn-block" id="btn_insert_cash" type="submit">Next</button>
    </div>
</form>
    <!-- method="POST" action="/buy" -->
    <!-- <label for="purchaseAmount2" class="sr-only">Amount</label>
    <input name="purchaseAmount2" id="purchaseAmount2" class="form-control" placeholder="Amount" required autofocus>
    <label for="recipientAddress" class="sr-only">Address</label>
    <input name="recipientAddress" id="recipientAddress" class="form-control" placeholder="Address" required autofocus> -->
</body>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
 crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut"
 crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k"
 crossorigin="anonymous"></script>
<script>
    function updateAmount(){
            let amount = $('#purchaseAmount').val();
            let dollarAmount = (amount * 3692.00).toFixed(2);
            dollarAmount = Number(dollarAmount).toLocaleString('en');
            console.log(amount)
            $('#usd_amount').text(dollarAmount + '$');
        }
    $(window).on('load', function () {
        // code here
        $('#btn_choose_amount').click(function (e) {
            e.preventDefault();
            $('#buy_form').hide();
            $('#prodive_btc_address').show();
        })
        $('#btn_btc_address').click(function (e) {
            e.preventDefault();
            $('#prodive_btc_address').hide();
            $('#insert_cash').show();
        })
        $('#purchaseAmount').on('keyup' ,function () {
            updateAmount();
        })
    });
</script>
</html>